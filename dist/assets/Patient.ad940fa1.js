import{N as C}from"./NavBarTop.0ed2d520.js";import{L as D}from"./LinkButton.f6b950f3.js";import{h as P,i as N,j as T}from"./fdb.9d673f7c.js";import{_ as F,r as _,o as h,c as u,b as n,w as x,d as e,t as i,e as f,n as S,p as E,f as B,ak as $,F as y,aj as I,h as j,i as w}from"./index.84698fb9.js";import{D as M}from"./DeleteForm.c13a3e61.js";import{F as K,a as L,E as V}from"./vee-validate.esm.6404c23a.js";import{c as G,a as p,d as k}from"./object.5593abc1.js";import"./firebaseAuth.731393f7.js";function R(t){let s=t.split("-"),g=new Date(s[2],s[1]-1,s[0]),o=new Date-g;return Math.floor(o/315576e5)}const A={name:"Register",props:{firebaseError:String},components:{Form:K,Field:L,ErrorMessage:V},data(){const t=G().shape({email:p().email("Email is ongeldig").max(50,"Karakter limiet bereikt"),naam:p().max(50,"Karakter limiet bereikt"),geslacht:p().max(50,"Karakter limiet bereikt"),gewicht:k().typeError("Dit veld is verplicht"),date:p().max(50,"Karakter limiet bereikt"),lengte:k().lessThan(2.5,"Voer een valide lengte in").moreThan(0,"Voer een valide lengte in").typeError("Dit veld is verplicht")});return{successful:!1,loading:!1,message:"",schema:t}},mounted(){document.getElementsByName("email")[0].placeholder="Naampje",document.getElementsByName("naam")[0].placeholder="Naampje",document.getElementsByName("geslacht")[0].placeholder="Naampje",document.getElementsByName("gewicht")[0].placeholder="Naampje",document.getElementsByName("lengte")[0].placeholder="Naampje"},methods:{goBackToPatient(){this.$emit("close")},editPatient(){this.$emit("edit")}}},c=t=>(E("data-v-88248fc8"),t=t(),B(),t),W={class:"form"},z=c(()=>e("h3",null,[e("b",null,"Pati\xEBnt gegevens aanpassen")],-1)),O={class:"form-group"},U=c(()=>e("label",{for:"email",style:{"font-weight":"bold"}},"Email",-1)),q={class:"form-group"},H=c(()=>e("label",{for:"naam",style:{"font-weight":"bold"}},"Naam",-1)),J={class:"form-group"},Q=c(()=>e("label",{for:"gewicht",style:{"font-weight":"bold"}}," Gewicht (kg)",-1)),X={class:"form-group"},Y=c(()=>e("label",{for:"lengte",style:{"font-weight":"bold"}}," Lengte (m)",-1)),Z={class:"form-group"},ee=c(()=>e("label",{for:"geslacht",style:{"font-weight":"bold"}}," Geslacht",-1)),te={class:"form-group"},se=c(()=>e("label",{for:"date",style:{"font-weight":"bold"}}," Geboorte datum",-1)),oe={id:"submit_btn_cover"},ae=c(()=>e("b",null,"Opslaan",-1)),ne=[ae],re=c(()=>e("b",null,"Terug",-1)),le=[re],ie={key:0,id:"errorText"};function ce(t,s,g,v,o,a){const m=_("Field"),d=_("ErrorMessage"),b=_("Form");return h(),u("form",W,[z,n(b,{onSubmit:t.createPatientWithFireStore,"validation-schema":o.schema},{default:x(()=>[e("div",O,[U,n(m,{name:"email",type:"email",class:"form-control"}),n(d,{name:"email",class:"error-feedback"})]),e("div",q,[H,n(m,{name:"naam",type:"name",class:"form-control"}),n(d,{name:"naam",class:"error-feedback"})]),e("div",J,[Q,n(m,{name:"gewicht",type:"number",class:"form-control"}),n(d,{name:"gewicht",class:"error-feedback"})]),e("div",X,[Y,n(m,{name:"lengte",type:"number",class:"form-control"}),n(d,{name:"lengte",class:"error-feedback"})]),e("div",Z,[ee,n(m,{name:"geslacht",type:"name",class:"form-control"}),n(d,{name:"geslacht",class:"error-feedback"})]),e("div",te,[se,n(m,{name:"date",type:"date",class:"form-control"}),n(d,{name:"date",class:"error-feedback"})]),e("div",oe,[e("button",{class:"registerButton",style:{"font-weight":"bold"},onClick:s[0]||(s[0]=l=>a.editPatient())},ne)])]),_:1},8,["onSubmit","validation-schema"]),e("button",{class:"returnButton",onClick:s[1]||(s[1]=l=>a.goBackToPatient())},le),g.firebaseError!==""?(h(),u("div",ie,i(g.firebaseError),1)):f("",!0),o.message?(h(),u("div",{key:1,class:S(["alert",o.successful?"alert-success":"alert-danger"])},i(o.message),3)):f("",!0)])}var me=F(A,[["render",ce],["__scopeId","data-v-88248fc8"]]);const de={name:"patients",components:{NavBarTop:C,LinkButton:D,DeleteForm:M,EditForm:me},data(){return{name:"",weight:null,age:"",heightInM:null,patients:null,categories:null,showFormDelete:!1,showFormEdit:!1,gender:"",email:"",fysio:this.$store.getters.getUser.uid,route:$(),patientID:null}},mounted(){this.getPatientData(),this.getCategories(),console.log(this.categories)},methods:{async getCategories(){const t=this.route.params.name;console.log(t);let s=await P(t);this.categories=s,console.log(this.categories)},async getPatientData(){const t=this.route.params.name;let s=await N(t);this.name=s.name,this.weight=s.weight,this.age=R(s.dateOfBirth),this.heightInM=s.heightInM,this.email=s.email,this.gender=s.gender},deletePatientWithFireStore(){let t=this.route.params.name;T(t),this.$router.push({name:"patients"})},goBackToPatientList(){this.$router.push({name:"patients"})},goToExerciseResults(t){let s=this.route.params.name;this.$router.push({name:"exerciseResults",params:{name:s,category:t}})},goToCategory(){const t=this.route.params.name;this.$router.push({name:"addCategorie",params:{name:t}})},blurrStyle(){return this.showFormDelete|this.showFormEdit?"filter: blur(24px); opacity: 0.6;":""},showDeleteForm(t){t.stopPropagation(),this.showFormDelete=!0},showEditForm(t){t.stopPropagation(),this.showFormEdit=!0},closeForm(){this.showFormDelete=!1,this.showFormEdit=!1,this.errorMessage=""},editPatient(){this.closeForm()}}},r=t=>(E("data-v-ac7cda62"),t=t(),B(),t),he={class:"title"},_e={class:"info_container"},ue=r(()=>e("b",null,"Pati\xEBnt gegevens",-1)),ge=r(()=>e("td",{class:"header_name"},[e("b",{class:"table_content"},"Naam ")],-1)),pe={class:"table_data"},fe=r(()=>e("td",{class:"header_name"},[e("b",null,"E-mail")],-1)),be={class:"table_data"},ve=r(()=>e("td",{class:"header_name"},[e("b",null,"Gewicht (kg)")],-1)),ye={class:"table_data"},we=r(()=>e("td",{class:"header_name"},[e("b",null,"Lengte (m)")],-1)),ke={class:"table_data"},Fe=r(()=>e("td",{class:"header_name"},[e("b",null,"leeftijd ")],-1)),Ee={class:"table_data"},Be=r(()=>e("b",null,"Gegevens aanpassen",-1)),Ce=[Be],De={class:"text-holder"},Pe=["onClick"],Ne=r(()=>e("b",null,"Verwijder pati\xEBnt",-1)),Te=[Ne],xe=r(()=>e("div",{style:{"margin-top":"80px"}},null,-1)),Se=r(()=>e("b",null,"Terug",-1)),$e=[Se],Ie=r(()=>e("b",null,"Categorie toevoegen",-1)),je=[Ie];function Me(t,s,g,v,o,a){const m=_("NavBarTop"),d=_("DeleteForm"),b=_("EditForm");return h(),u(y,null,[e("div",{style:j(a.blurrStyle())},[n(m),e("h1",he,i(o.name),1),e("div",_e,[ue,e("table",null,[e("tr",null,[ge,e("td",null,[e("div",pe,i(o.name),1)])]),e("tr",null,[fe,e("td",null,[e("div",be,i(o.email),1)])]),e("tr",null,[ve,e("td",null,[e("div",ye,i(o.weight),1)])]),e("tr",null,[we,e("td",null,[e("div",ke,i(o.heightInM),1)])]),e("tr",null,[Fe,e("td",null,[e("div",Ee,i(o.age),1)])])]),e("button",{class:"editButton",onClick:s[0]||(s[0]=(...l)=>a.showEditForm&&a.showEditForm(...l))},Ce)]),(h(!0),u(y,null,I(o.categories,([l,Ke])=>(h(),u("div",{key:t.docKeyCategory,class:"category"},[e("div",De,[e("p",null,[e("b",null,i(l),1)])]),e("button",{class:"see-results",onClick:Le=>a.goToExerciseResults(l)}," Bekijk ",8,Pe)]))),128)),e("button",{class:"deletePatientBtn",onClick:s[1]||(s[1]=(...l)=>a.showDeleteForm&&a.showDeleteForm(...l))},Te),xe,e("footer",null,[e("button",{class:"backBtn",onClick:s[2]||(s[2]=l=>a.goBackToPatientList())},$e),e("button",{class:"addCategory",onClick:s[3]||(s[3]=l=>a.goToCategory())},je)])],4),o.showFormDelete&&!o.showFormEdit?(h(),w(d,{key:0,onClose:a.closeForm,onDelete:a.deletePatientWithFireStore},null,8,["onClose","onDelete"])):f("",!0),o.showFormEdit&&!o.showFormDelete?(h(),w(b,{key:1,onClose:a.closeForm,onEdit:a.editPatient},null,8,["onClose","onEdit"])):f("",!0)],64)}var qe=F(de,[["render",Me],["__scopeId","data-v-ac7cda62"]]);export{qe as default};
