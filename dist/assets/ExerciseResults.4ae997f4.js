import{N as w}from"./NavBarTop.0ed2d520.js";import{_ as f,r as d,o as c,i as v,ak as C,c as _,d as e,b as g,t as m,F as h,aj as D,h as F,e as k,p as x,f as I}from"./index.84698fb9.js";import{D as R}from"./DeleteForm.c13a3e61.js";import{k as B,l as T}from"./fdb.9d673f7c.js";import"./firebaseAuth.731393f7.js";import"./vee-validate.esm.6404c23a.js";function y(t){return new Date(t).toISOString().replace("T"," ").split(".").shift()}const P={name:"MovementPercentageInTime",props:{dataProp:Array},data(){return{}},mounted(){console.log(this.dataProp)}};function N(t,o,l,u,r,s){const i=d("line-chart");return c(),v(i,{data:l.dataProp,xtitle:"Datum",ytitle:"Beweegbaarheid (%)",language:"de"},null,8,["data"])}var S=f(P,[["render",N]]);const M={name:"Exercise results",components:{NavBarTop:w,MovementPercentageInTime:S,DeleteForm:R},data(){return{results:[],graphResults:[],showForm:!1,route:C(),unixToDateTime:y,routeName:""}},methods:{async getCategoryResults(){let t=this.route.params.name,o=this.route.params.category;const l=await B(t,o),u=l.results;l.results,this.routeName=l.name,console.log(o);const r=u.reduce((s,i,p)=>(s[y(i.date)]=i.beweging,s),{});console.log(r),this.graphResults=r,console.log(u),this.results=u},goBackToPatient(){this.$router.push({name:"patient"})},addMeasurement(){let t=this.route.params.name,o=this.route.params.category;this.$router.push({name:"measureInfo",params:{name:t,category:o}})},async deleteCategory(){let t=this.route.params.name,o=this.route.params.category;console.log(o),await T(t,o),this.$router.push({name:"patient"})},blurrStyle(){return this.showForm?"filter: blur(24px); opacity: 0.6;":""},showDeleteForm(t){t.stopPropagation(),this.showForm=!0},closeForm(){this.showForm=!1,this.errorMessage=""}},mounted(){this.getCategoryResults()}},a=t=>(x("data-v-1426f489"),t=t(),I(),t),V={class:"title"},E={class:"result_container"},j=a(()=>e("b",null,"Meest recente metingen ",-1)),$={class:"recent_results"},z=a(()=>e("b",null,"Recente resultaten in vergelijking tot de norm",-1)),A=a(()=>e("tr",null,[e("th",null,"Datum"),e("th",null,"Beweging (graden)"),e("th",null,"Vergeleken tot de norm i (%)")],-1)),L=a(()=>e("b",null,"Verwijder categorie",-1)),O=[L],q=a(()=>e("div",{style:{"margin-top":"80px"}},null,-1)),G=a(()=>e("b",null,"Terug",-1)),H=[G],J=a(()=>e("b",null,"Niewe meting",-1)),K=[J];function Q(t,o,l,u,r,s){const i=d("nav-bar-top"),p=d("movement-percentage-in-time"),b=d("DeleteForm");return c(),_(h,null,[e("div",{style:F(s.blurrStyle())},[g(i),e("h1",V,m(r.routeName),1),e("main",null,[e("div",E,[j,g(p,{"data-prop":r.graphResults},null,8,["data-prop"])]),e("div",$,[z,e("table",null,[A,(c(!0),_(h,null,D(r.results,n=>(c(),_("tr",{key:n},[e("td",null,m(r.unixToDateTime(n.date)),1),e("td",null,m(n.beweging),1),e("td",null,m(n.norm),1)]))),128))])])]),e("button",{class:"delete_categoryBtn",onClick:o[0]||(o[0]=(...n)=>s.showDeleteForm&&s.showDeleteForm(...n))},O),q,e("footer",null,[e("button",{class:"backBtn",onClick:o[1]||(o[1]=n=>s.goBackToPatient())},H),e("button",{class:"addMeasurement",onClick:o[2]||(o[2]=n=>s.addMeasurement())},K)])],4),r.showForm?(c(),v(b,{key:0,onClose:s.closeForm,onDelete:s.deleteCategory},null,8,["onClose","onDelete"])):k("",!0)],64)}var te=f(M,[["render",Q],["__scopeId","data-v-1426f489"]]);export{te as default};
